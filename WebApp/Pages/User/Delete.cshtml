@page
@using System.Data.SqlClient;
@using WebApp.model;
@inject IConfiguration configuration;
@{
    try
    {
        DAL dal = new DAL();
        if (int.TryParse(Request.Query["ID"], out int id))
        {
            dal.DeleteUser(id, Model.configuration);
        }
        else
        {
            throw new Exception("Invalid user ID format.");
        }
    }
    catch (Exception ex)
    {
        //
    }
    Response.Redirect("/User/Index");
}